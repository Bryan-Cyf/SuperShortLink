import _extends from"@babel/runtime/helpers/esm/extends";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import clsx from"clsx";import PropTypes from"prop-types";import{chainPropTypes}from"@material-ui/utils";import{Transition}from"react-transition-group";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import deprecatedPropType from"../utils/deprecatedPropType";import{getTransitionProps}from"../transitions/utils";import useTheme from"../styles/useTheme";import{useForkRef}from"../utils";var styles=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},Collapse=React.forwardRef(function(e,t){var o=e.children,r=e.classes,n=e.className,i=e.collapsedHeight,s=e.collapsedSize,p=void 0===s?"0px":s,a=e.component,c=void 0===a?"div":a,l=e.disableStrictModeCompat,u=void 0!==l&&l,d=e.in,m=e.onEnter,y=e.onEntered,f=e.onEntering,h=e.onExit,s=e.onExited,T=e.onExiting,P=e.style,a=e.timeout,g=void 0===a?duration.standard:a,l=e.TransitionComponent,a=void 0===l?Transition:l,l=_objectWithoutProperties(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),E=useTheme(),x=React.useRef(),b=React.useRef(null),v=React.useRef(),R="number"==typeof(i||p)?"".concat(i||p,"px"):i||p;React.useEffect(function(){return function(){clearTimeout(x.current)}},[]);var w=E.unstable_strictMode&&!u,S=React.useRef(null),C=useForkRef(t,w?S:void 0),e=function(o){return function(e,t){o&&(e=w?[S.current,e]:[e,t],e=(t=_slicedToArray(e,2))[0],void 0===(t=t[1])?o(e):o(e,t))}},i=e(function(e,t){e.style.height=R,m&&m(e,t)}),p=e(function(e,t){var o,r=b.current?b.current.clientHeight:0,n=getTransitionProps({style:P,timeout:g},{mode:"enter"}).duration;"auto"===g?(o=E.transitions.getAutoHeightDuration(r),e.style.transitionDuration="".concat(o,"ms"),v.current=o):e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms"),e.style.height="".concat(r,"px"),f&&f(e,t)}),u=e(function(e,t){e.style.height="auto",y&&y(e,t)}),t=e(function(e){var t=b.current?b.current.clientHeight:0;e.style.height="".concat(t,"px"),h&&h(e)}),s=e(s),e=e(function(e){var t=b.current?b.current.clientHeight:0,o=getTransitionProps({style:P,timeout:g},{mode:"exit"}).duration;"auto"===g?(t=E.transitions.getAutoHeightDuration(t),e.style.transitionDuration="".concat(t,"ms"),v.current=t):e.style.transitionDuration="string"==typeof o?o:"".concat(o,"ms"),e.style.height=R,T&&T(e)});return React.createElement(a,_extends({in:d,onEnter:i,onEntered:u,onEntering:p,onExit:t,onExited:s,onExiting:e,addEndListener:function(e,t){"auto"===g&&(x.current=setTimeout(w?e:t,v.current||0))},nodeRef:w?S:void 0,timeout:"auto"===g?null:g},l),function(e,t){return React.createElement(c,_extends({className:clsx(r.root,r.container,n,{entered:r.entered,exited:!d&&"0px"===R&&r.hidden}[e]),style:_extends({minHeight:R},P),ref:C},t),React.createElement("div",{className:r.wrapper,ref:b},React.createElement("div",{className:r.wrapperInner},o)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:PropTypes.node,classes:chainPropTypes(PropTypes.object,function(e){if(e.classes&&e.classes.container)throw new Error(["Material-UI: the classes.container key is deprecated.","Use `classes.root` instead","The name of the pseudo-class was changed for consistency."].join("\n"));return null}),className:PropTypes.string,collapsedHeight:deprecatedPropType(PropTypes.oneOfType([PropTypes.number,PropTypes.string]),"The prop was renamed to support the vertical orientation, use `collapsedSize` instead"),collapsedSize:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),component:PropTypes.elementType,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Collapse.muiSupportAuto=!0;export default withStyles(styles,{name:"MuiCollapse"})(Collapse);export{styles};