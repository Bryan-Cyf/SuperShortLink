import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import{expect}from"chai";import*as React from"react";import findOutermostIntrinsic from"./findOutermostIntrinsic";import ReactTestRenderer from"react-test-renderer";import testRef from"./testRef";function findRootComponent(e,t){var t=t.component,n=findOutermostIntrinsic(e).getElement();return e.find(t).filterWhere(function(e){return e.contains(n)})}function randomStringValue(){return Math.random().toString(36).slice(2)}function testClassName(n,o){it("applies the className to the root component",function(){var e=o().mount,t=randomStringValue(),e=e(React.cloneElement(n,{className:t}));expect(findOutermostIntrinsic(e).hasClass(t)).to.equal(!0,"does have a custom `className`")})}function testComponentProp(o,r){describe("prop: component",function(){it("can render another root component with the `component` prop",function(){var e=r(),t=e.classes,n=e.mount,e=e.testComponentPropWith,e=void 0===e?"em":e,n=n(React.cloneElement(o,{component:e}));expect(findRootComponent(n,{classes:t,component:e}).exists()).to.equal(!0)})})}function testPropsSpread(s,i){it("spreads props to the root component",function(){var e=i(),t=e.classes,n=e.inheritComponent,o=e.mount,r="data-test-props-spread",e=randomStringValue(),n=findRootComponent(o(React.cloneElement(s,_defineProperty({},r,e))),{classes:t,component:n});expect(n.props()[r]).to.equal(e)})}function describeRef(r,s){describe("ref",function(){it("attaches the ref",function(){var e=s(),n=e.inheritComponent,t=e.mount,o=e.refInstanceof;testRef(r,t,function(e,t){expect(e).to.be.instanceof(o),n&&1===e.nodeType&&(t=findOutermostIntrinsic(t),expect(e).to.equal(t.instance()))})})})}function testRootClass(o,r){it("applies the root class to the root component if it has this class",function(){var e=r(),t=e.classes,n=e.mount;null!=t.root&&(e=randomStringValue(),n=n(React.cloneElement(o,{className:e})),expect(findOutermostIntrinsic(n).hasClass(t.root)).to.equal(!0),expect(findOutermostIntrinsic(n).hasClass(e)).to.equal(!0))})}function testReactTestRenderer(e){it("should render without errors in ReactTestRenderer",function(){ReactTestRenderer.act(function(){ReactTestRenderer.create(e,{createNodeMock:function(e){return document.createElement(e.type)}})})})}var fullSuite={componentProp:testComponentProp,mergeClassName:testClassName,propsSpread:testPropsSpread,refForwarding:describeRef,rootClass:testRootClass,reactTestRenderer:testReactTestRenderer};export default function describeConformance(t,n){var e=n(),o=e.after,r=void 0===o?function(){}:o,o=e.only,s=void 0===o?Object.keys(fullSuite):o,e=e.skip,i=void 0===e?[]:e;describe("Material-UI component API",function(){after(r),Object.keys(fullSuite).filter(function(e){return-1!==s.indexOf(e)&&-1===i.indexOf(e)}).forEach(function(e){(0,fullSuite[e])(t,n)})})}