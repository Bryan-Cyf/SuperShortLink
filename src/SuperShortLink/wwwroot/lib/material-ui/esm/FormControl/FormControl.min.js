import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import{isFilled,isAdornedStart}from"../InputBase/utils";import withStyles from"../styles/withStyles";import capitalize from"../utils/capitalize";import isMuiElement from"../utils/isMuiElement";import FormControlContext from"./FormControlContext";var styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},FormControl=React.forwardRef(function(e,o){var r,t,i=e.children,n=e.classes,s=e.className,l=e.color,a=void 0===l?"primary":l,p=e.component,d=void 0===p?"div":p,c=e.disabled,m=void 0!==c&&c,u=e.error,f=void 0!==u&&u,y=e.fullWidth,h=void 0!==y&&y,v=e.focused,b=e.hiddenLabel,T=void 0!==b&&b,P=e.margin,g=void 0===P?"none":P,C=e.required,l=void 0!==C&&C,p=e.size,c=e.variant,u=void 0===c?"standard":c,y=_objectWithoutProperties(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),b=React.useState(function(){var o=!1;return i&&React.Children.forEach(i,function(e){!isMuiElement(e,["Input","Select"])||(e=isMuiElement(e,["Select"])?e.props.input:e)&&isAdornedStart(e.props)&&(o=!0)}),o}),P=b[0],C=b[1],c=React.useState(function(){var o=!1;return i&&React.Children.forEach(i,function(e){isMuiElement(e,["Input","Select"])&&isFilled(e.props,!0)&&(o=!0)}),o}),e=c[0],E=c[1],b=React.useState(!1),c=b[0],R=b[1],v=void 0!==v?v:c;m&&v&&R(!1),"production"!==process.env.NODE_ENV&&(r=React.useRef(!1),t=function(){return r.current&&console.error(["Material-UI: There are multiple InputBase components inside a FormControl.","This is not supported. It might cause infinite rendering loops.","Only use one InputBase."].join("\n")),r.current=!0,function(){r.current=!1}});c=React.useCallback(function(){E(!0)},[]),u={adornedStart:P,setAdornedStart:C,color:a,disabled:m,error:f,filled:e,focused:v,fullWidth:h,hiddenLabel:T,margin:("small"===p?"dense":void 0)||g,onBlur:function(){R(!1)},onEmpty:React.useCallback(function(){E(!1)},[]),onFilled:c,onFocus:function(){R(!0)},registerEffect:t,required:l,variant:u};return React.createElement(FormControlContext.Provider,{value:u},React.createElement(d,_extends({className:clsx(n.root,s,"none"!==g&&n["margin".concat(capitalize(g))],h&&n.fullWidth),ref:o},y),i))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,color:PropTypes.oneOf(["primary","secondary"]),component:PropTypes.elementType,disabled:PropTypes.bool,error:PropTypes.bool,focused:PropTypes.bool,fullWidth:PropTypes.bool,hiddenLabel:PropTypes.bool,margin:PropTypes.oneOf(["dense","none","normal"]),required:PropTypes.bool,size:PropTypes.oneOf(["medium","small"]),variant:PropTypes.oneOf(["filled","outlined","standard"])});export default withStyles(styles,{name:"MuiFormControl"})(FormControl);export{styles};