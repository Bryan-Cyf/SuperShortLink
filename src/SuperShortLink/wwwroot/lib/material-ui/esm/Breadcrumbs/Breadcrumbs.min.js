import _extends from"@babel/runtime/helpers/esm/extends";import _toConsumableArray from"@babel/runtime/helpers/esm/toConsumableArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import{isFragment}from"react-is";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import Typography from"../Typography";import BreadcrumbCollapsed from"./BreadcrumbCollapsed";var styles={root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}};function insertSeparators(o,a,s){return o.reduce(function(e,r,t){return t<o.length-1?e=e.concat(r,React.createElement("li",{"aria-hidden":!0,key:"separator-".concat(t),className:a},s)):e.push(r),e},[])}var Breadcrumbs=React.forwardRef(function(e,r){var t,o=e.children,a=e.classes,s=e.className,n=e.component,l=void 0===n?"nav":n,p=e.expandText,i=void 0===p?"Show path":p,c=e.itemsAfterCollapse,m=void 0===c?1:c,n=e.itemsBeforeCollapse,d=void 0===n?1:n,p=e.maxItems,u=void 0===p?8:p,c=e.separator,n=void 0===c?"/":c,p=_objectWithoutProperties(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),c=React.useState(!1),e=c[0],y=c[1],f=React.Children.toArray(o).filter(function(e){return"production"!==process.env.NODE_ENV&&isFragment(e)&&console.error(["Material-UI: The Breadcrumbs component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),React.isValidElement(e)}).map(function(e,r){return React.createElement("li",{className:a.li,key:"child-".concat(r)},e)});return React.createElement(Typography,_extends({ref:r,component:l,color:"textSecondary",className:clsx(a.root,s)},p),React.createElement("ol",{className:a.ol},insertSeparators(e||u&&f.length<=u?f:d+m>=(t=f).length?("production"!==process.env.NODE_ENV&&console.error(["Material-UI: You have provided an invalid combination of props to the Breadcrumbs.","itemsAfterCollapse={".concat(m,"} + itemsBeforeCollapse={").concat(d,"} >= maxItems={").concat(u,"}")].join("\n")),t):[].concat(_toConsumableArray(t.slice(0,d)),[React.createElement(BreadcrumbCollapsed,{"aria-label":i,key:"ellipsis",onClick:function(e){y(!0);e=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");e&&e.focus()}})],_toConsumableArray(t.slice(t.length-m,t.length))),a.separator,n)))});"production"!==process.env.NODE_ENV&&(Breadcrumbs.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,component:PropTypes.elementType,expandText:PropTypes.string,itemsAfterCollapse:PropTypes.number,itemsBeforeCollapse:PropTypes.number,maxItems:PropTypes.number,separator:PropTypes.node});export default withStyles(styles,{name:"MuiBreadcrumbs"})(Breadcrumbs);export{styles};