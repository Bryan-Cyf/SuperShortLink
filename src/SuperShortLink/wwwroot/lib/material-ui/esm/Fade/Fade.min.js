import _extends from"@babel/runtime/helpers/esm/extends";import _slicedToArray from"@babel/runtime/helpers/esm/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import{duration}from"../styles/transitions";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";var styles={entering:{opacity:1},entered:{opacity:1}},defaultTimeout={enter:duration.enteringScreen,exit:duration.leavingScreen},Fade=React.forwardRef(function(e,t){var o=e.children,n=e.disableStrictModeCompat,r=void 0!==n&&n,i=e.in,s=e.onEnter,p=e.onEntered,a=e.onEntering,u=e.onExit,c=e.onExited,d=e.onExiting,m=e.style,l=e.TransitionComponent,n=void 0===l?Transition:l,l=e.timeout,y=void 0===l?defaultTimeout:l,l=_objectWithoutProperties(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),f=useTheme(),T=f.unstable_strictMode&&!r,E=React.useRef(null),e=useForkRef(o.ref,t),b=useForkRef(T?E:void 0,e),r=function(o){return function(e,t){o&&(e=T?[E.current,e]:[e,t],e=(t=_slicedToArray(e,2))[0],void 0===(t=t[1])?o(e):o(e,t))}},t=r(a),e=r(function(e,t){reflow(e);var o=getTransitionProps({style:m,timeout:y},{mode:"enter"});e.style.webkitTransition=f.transitions.create("opacity",o),e.style.transition=f.transitions.create("opacity",o),s&&s(e,t)}),a=r(p),p=r(d),d=r(function(e){var t=getTransitionProps({style:m,timeout:y},{mode:"exit"});e.style.webkitTransition=f.transitions.create("opacity",t),e.style.transition=f.transitions.create("opacity",t),u&&u(e)}),c=r(c);return React.createElement(n,_extends({appear:!0,in:i,nodeRef:T?E:void 0,onEnter:e,onEntered:a,onEntering:t,onExit:d,onExited:c,onExiting:p,timeout:y},l),function(e,t){return React.cloneElement(o,_extends({style:_extends({opacity:0,visibility:"exited"!==e||i?void 0:"hidden"},styles[e],m,o.props.style),ref:b},t))})});"production"!==process.env.NODE_ENV&&(Fade.propTypes={children:PropTypes.element,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])});export default Fade;