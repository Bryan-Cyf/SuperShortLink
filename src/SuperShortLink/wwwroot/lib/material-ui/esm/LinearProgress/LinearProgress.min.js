import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutProperties from"@babel/runtime/helpers/esm/objectWithoutProperties";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import capitalize from"../utils/capitalize";import withStyles from"../styles/withStyles";import{darken,lighten}from"../styles/colorManipulator";import useTheme from"../styles/useTheme";var TRANSITION_DURATION=4,styles=function(r){var e=function(e){return"light"===r.palette.type?lighten(e,.62):darken(e,.5)},a=e(r.palette.primary.main),e=e(r.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:a},colorSecondary:{backgroundColor:e},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(e," 0%, ").concat(e," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:r.palette.primary.main},barColorSecondary:{backgroundColor:r.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(TRANSITION_DURATION,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(TRANSITION_DURATION,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(TRANSITION_DURATION,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}},LinearProgress=React.forwardRef(function(e,r){var a=e.classes,t=e.className,o=e.color,i=void 0===o?"primary":o,n=e.value,s=e.valueBuffer,l=e.variant,c=void 0===l?"indeterminate":l,m=_objectWithoutProperties(e,["classes","className","color","value","valueBuffer","variant"]),o=useTheme(),l={},e={bar1:{},bar2:{}};return"determinate"!==c&&"buffer"!==c||(void 0!==n?(l["aria-valuenow"]=Math.round(n),l["aria-valuemin"]=0,n=n-(l["aria-valuemax"]=100),"rtl"===o.direction&&(n=-n),e.bar1.transform="translateX(".concat(n,"%)")):"production"!==process.env.NODE_ENV&&console.error("Material-UI: You need to provide a value prop when using the determinate or buffer variant of LinearProgress .")),"buffer"===c&&(void 0!==s?(s=(s||0)-100,"rtl"===o.direction&&(s=-s),e.bar2.transform="translateX(".concat(s,"%)")):"production"!==process.env.NODE_ENV&&console.error("Material-UI: You need to provide a valueBuffer prop when using the buffer variant of LinearProgress.")),React.createElement("div",_extends({className:clsx(a.root,a["color".concat(capitalize(i))],t,{determinate:a.determinate,indeterminate:a.indeterminate,buffer:a.buffer,query:a.query}[c]),role:"progressbar"},l,{ref:r},m),"buffer"===c?React.createElement("div",{className:clsx(a.dashed,a["dashedColor".concat(capitalize(i))])}):null,React.createElement("div",{className:clsx(a.bar,a["barColor".concat(capitalize(i))],("indeterminate"===c||"query"===c)&&a.bar1Indeterminate,{determinate:a.bar1Determinate,buffer:a.bar1Buffer}[c]),style:e.bar1}),"determinate"===c?null:React.createElement("div",{className:clsx(a.bar,("indeterminate"===c||"query"===c)&&a.bar2Indeterminate,"buffer"===c?[a["color".concat(capitalize(i))],a.bar2Buffer]:a["barColor".concat(capitalize(i))]),style:e.bar2}))});"production"!==process.env.NODE_ENV&&(LinearProgress.propTypes={classes:PropTypes.object,className:PropTypes.string,color:PropTypes.oneOf(["primary","secondary"]),value:PropTypes.number,valueBuffer:PropTypes.number,variant:PropTypes.oneOf(["buffer","determinate","indeterminate","query"])});export default withStyles(styles,{name:"MuiLinearProgress"})(LinearProgress);export{styles};