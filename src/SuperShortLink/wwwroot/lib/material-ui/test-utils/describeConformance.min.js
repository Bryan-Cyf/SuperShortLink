"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=describeConformance;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_chai=require("chai"),React=_interopRequireWildcard(require("react")),_findOutermostIntrinsic=_interopRequireDefault(require("./findOutermostIntrinsic")),_reactTestRenderer=_interopRequireDefault(require("react-test-renderer")),_testRef=_interopRequireDefault(require("./testRef"));function findRootComponent(e,t){var t=t.component,n=(0,_findOutermostIntrinsic.default)(e).getElement();return e.find(t).filterWhere(function(e){return e.contains(n)})}function randomStringValue(){return Math.random().toString(36).slice(2)}function testClassName(n,r){it("applies the className to the root component",function(){var e=r().mount,t=randomStringValue(),e=e(React.cloneElement(n,{className:t}));(0,_chai.expect)((0,_findOutermostIntrinsic.default)(e).hasClass(t)).to.equal(!0,"does have a custom `className`")})}function testComponentProp(r,o){describe("prop: component",function(){it("can render another root component with the `component` prop",function(){var e=o(),t=e.classes,n=e.mount,e=e.testComponentPropWith,e=void 0===e?"em":e,n=n(React.cloneElement(r,{component:e}));(0,_chai.expect)(findRootComponent(n,{classes:t,component:e}).exists()).to.equal(!0)})})}function testPropsSpread(i,a){it("spreads props to the root component",function(){var e=a(),t=e.classes,n=e.inheritComponent,r=e.mount,o="data-test-props-spread",e=randomStringValue(),n=findRootComponent(r(React.cloneElement(i,(0,_defineProperty2.default)({},o,e))),{classes:t,component:n});(0,_chai.expect)(n.props()[o]).to.equal(e)})}function describeRef(o,i){describe("ref",function(){it("attaches the ref",function(){var e=i(),n=e.inheritComponent,t=e.mount,r=e.refInstanceof;(0,_testRef.default)(o,t,function(e,t){(0,_chai.expect)(e).to.be.instanceof(r),n&&1===e.nodeType&&(t=(0,_findOutermostIntrinsic.default)(t),(0,_chai.expect)(e).to.equal(t.instance()))})})})}function testRootClass(r,o){it("applies the root class to the root component if it has this class",function(){var e=o(),t=e.classes,n=e.mount;null!=t.root&&(e=randomStringValue(),n=n(React.cloneElement(r,{className:e})),(0,_chai.expect)((0,_findOutermostIntrinsic.default)(n).hasClass(t.root)).to.equal(!0),(0,_chai.expect)((0,_findOutermostIntrinsic.default)(n).hasClass(e)).to.equal(!0))})}function testReactTestRenderer(e){it("should render without errors in ReactTestRenderer",function(){_reactTestRenderer.default.act(function(){_reactTestRenderer.default.create(e,{createNodeMock:function(e){return document.createElement(e.type)}})})})}var fullSuite={componentProp:testComponentProp,mergeClassName:testClassName,propsSpread:testPropsSpread,refForwarding:describeRef,rootClass:testRootClass,reactTestRenderer:testReactTestRenderer};function describeConformance(t,n){var e=n(),r=e.after,o=void 0===r?function(){}:r,r=e.only,i=void 0===r?Object.keys(fullSuite):r,e=e.skip,a=void 0===e?[]:e;describe("Material-UI component API",function(){after(o),Object.keys(fullSuite).filter(function(e){return-1!==i.indexOf(e)&&-1===a.indexOf(e)}).forEach(function(e){(0,fullSuite[e])(t,n)})})}