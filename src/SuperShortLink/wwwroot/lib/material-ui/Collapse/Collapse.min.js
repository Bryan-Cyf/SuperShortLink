"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_clsx=_interopRequireDefault(require("clsx")),_propTypes=_interopRequireDefault(require("prop-types")),_utils=require("@material-ui/utils"),_reactTransitionGroup=require("react-transition-group"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_deprecatedPropType=_interopRequireDefault(require("../utils/deprecatedPropType")),_utils2=require("../transitions/utils"),_useTheme=_interopRequireDefault(require("../styles/useTheme")),_utils3=require("../utils"),styles=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}};exports.styles=styles;var Collapse=React.forwardRef(function(e,t){var r=e.children,n=e.classes,i=e.className,o=e.collapsedHeight,s=e.collapsedSize,a=void 0===s?"0px":s,u=e.component,p=void 0===u?"div":u,l=e.disableStrictModeCompat,d=void 0!==l&&l,c=e.in,f=e.onEnter,y=e.onEntered,_=e.onEntering,h=e.onExit,s=e.onExited,m=e.onExiting,T=e.style,u=e.timeout,g=void 0===u?_transitions.duration.standard:u,l=e.TransitionComponent,u=void 0===l?_reactTransitionGroup.Transition:l,l=(0,_objectWithoutProperties2.default)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),x=(0,_useTheme.default)(),E=React.useRef(),b=React.useRef(null),R=React.useRef(),q="number"==typeof(o||a)?"".concat(o||a,"px"):o||a;React.useEffect(function(){return function(){clearTimeout(E.current)}},[]);var v=x.unstable_strictMode&&!d,D=React.useRef(null),w=(0,_utils3.useForkRef)(t,v?D:void 0),e=function(r){return function(e,t){r&&(e=v?[D.current,e]:[e,t],e=(t=(0,_slicedToArray2.default)(e,2))[0],void 0===(t=t[1])?r(e):r(e,t))}},o=e(function(e,t){e.style.height=q,f&&f(e,t)}),a=e(function(e,t){var r,n=b.current?b.current.clientHeight:0,i=(0,_utils2.getTransitionProps)({style:T,timeout:g},{mode:"enter"}).duration;"auto"===g?(r=x.transitions.getAutoHeightDuration(n),e.style.transitionDuration="".concat(r,"ms"),R.current=r):e.style.transitionDuration="string"==typeof i?i:"".concat(i,"ms"),e.style.height="".concat(n,"px"),_&&_(e,t)}),d=e(function(e,t){e.style.height="auto",y&&y(e,t)}),t=e(function(e){var t=b.current?b.current.clientHeight:0;e.style.height="".concat(t,"px"),h&&h(e)}),s=e(s),e=e(function(e){var t=b.current?b.current.clientHeight:0,r=(0,_utils2.getTransitionProps)({style:T,timeout:g},{mode:"exit"}).duration;"auto"===g?(t=x.transitions.getAutoHeightDuration(t),e.style.transitionDuration="".concat(t,"ms"),R.current=t):e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms"),e.style.height=q,m&&m(e)});return React.createElement(u,(0,_extends2.default)({in:c,onEnter:o,onEntered:d,onEntering:a,onExit:t,onExited:s,onExiting:e,addEndListener:function(e,t){"auto"===g&&(E.current=setTimeout(v?e:t,R.current||0))},nodeRef:v?D:void 0,timeout:"auto"===g?null:g},l),function(e,t){return React.createElement(p,(0,_extends2.default)({className:(0,_clsx.default)(n.root,n.container,i,{entered:n.entered,exited:!c&&"0px"===q&&n.hidden}[e]),style:(0,_extends2.default)({minHeight:q},T),ref:w},t),React.createElement("div",{className:n.wrapper,ref:b},React.createElement("div",{className:n.wrapperInner},r)))})});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:_propTypes.default.node,classes:(0,_utils.chainPropTypes)(_propTypes.default.object,function(e){if(e.classes&&e.classes.container)throw new Error(["Material-UI: the classes.container key is deprecated.","Use `classes.root` instead","The name of the pseudo-class was changed for consistency."].join("\n"));return null}),className:_propTypes.default.string,collapsedHeight:(0,_deprecatedPropType.default)(_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),"The prop was renamed to support the vertical orientation, use `collapsedSize` instead"),collapsedSize:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),component:_propTypes.default.elementType,disableStrictModeCompat:_propTypes.default.bool,in:_propTypes.default.bool,onEnter:_propTypes.default.func,onEntered:_propTypes.default.func,onEntering:_propTypes.default.func,onExit:_propTypes.default.func,onExited:_propTypes.default.func,onExiting:_propTypes.default.func,style:_propTypes.default.object,timeout:_propTypes.default.oneOfType([_propTypes.default.oneOf(["auto"]),_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})])}),Collapse.muiSupportAuto=!0;var _default=(0,_withStyles.default)(styles,{name:"MuiCollapse"})(Collapse);exports.default=_default;