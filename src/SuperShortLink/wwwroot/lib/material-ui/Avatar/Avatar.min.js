"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("@material-ui/utils"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_Person=_interopRequireDefault(require("../internal/svg-icons/Person")),styles=function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}};function useLoaded(e){var t=e.src,a=e.srcSet,r=React.useState(!1),e=r[0],i=r[1];return React.useEffect(function(){if(t||a){i(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=a,r.onload=function(){e&&i("loaded")},r.onerror=function(){e&&i("error")},function(){e=!1}}},[t,a]),e}exports.styles=styles;var Avatar=React.forwardRef(function(e,r){var t=e.alt,a=e.children,i=e.classes,s=e.className,l=e.component,o=void 0===l?"div":l,n=e.imgProps,u=e.sizes,c=e.src,p=e.srcSet,d=e.variant,f=void 0===d?"circular":d,_=(0,_objectWithoutProperties2.default)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),l=null,d=useLoaded({src:c,srcSet:p}),e=c||p,d=e&&"error"!==d,l=d?React.createElement("img",(0,_extends2.default)({alt:t,src:c,srcSet:p,sizes:u,className:i.img},n)):null!=a?a:e&&t?t[0]:React.createElement(_Person.default,{className:i.fallback});return React.createElement(o,(0,_extends2.default)({className:(0,_clsx.default)(i.root,i.system,i[f],s,!d&&i.colorDefault),ref:r},_),l)});"production"!==process.env.NODE_ENV&&(Avatar.propTypes={alt:_propTypes.default.string,children:_propTypes.default.node,classes:(0,_utils.chainPropTypes)(_propTypes.default.object,function(e){e=e.classes;if(null==e)return null;if(null!=e.circle&&1<e.circle.split(" ").length)throw new Error("Material-UI: The `circle` class is deprecated. Use `circular` instead.");return null}),className:_propTypes.default.string,component:_propTypes.default.elementType,imgProps:_propTypes.default.object,sizes:_propTypes.default.string,src:_propTypes.default.string,srcSet:_propTypes.default.string,variant:(0,_utils.chainPropTypes)(_propTypes.default.oneOf(["circle","circular","rounded","square"]),function(e){if("circle"===e.variant)throw new Error('Material-UI: `variant="circle"` is deprecated. Use `variant="circular"` instead.');return null})});var _default=(0,_withStyles.default)(styles,{name:"MuiAvatar"})(Avatar);exports.default=_default;