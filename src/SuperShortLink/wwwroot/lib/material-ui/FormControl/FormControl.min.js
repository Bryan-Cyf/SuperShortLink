"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("../InputBase/utils"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_isMuiElement=_interopRequireDefault(require("../utils/isMuiElement")),_FormControlContext=_interopRequireDefault(require("./FormControlContext")),styles={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};exports.styles=styles;var FormControl=React.forwardRef(function(e,r){var t,o,i=e.children,l=e.classes,n=e.className,a=e.color,u=void 0===a?"primary":a,s=e.component,d=void 0===s?"div":s,p=e.disabled,c=void 0!==p&&p,f=e.error,m=void 0!==f&&f,_=e.fullWidth,y=void 0!==_&&_,h=e.focused,v=e.hiddenLabel,b=void 0!==v&&v,q=e.margin,R=void 0===q?"none":q,T=e.required,a=void 0!==T&&T,s=e.size,p=e.variant,f=void 0===p?"standard":p,_=(0,_objectWithoutProperties2.default)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),v=React.useState(function(){var r=!1;return i&&React.Children.forEach(i,function(e){!(0,_isMuiElement.default)(e,["Input","Select"])||(e=(0,_isMuiElement.default)(e,["Select"])?e.props.input:e)&&(0,_utils.isAdornedStart)(e.props)&&(r=!0)}),r}),q=v[0],T=v[1],p=React.useState(function(){var r=!1;return i&&React.Children.forEach(i,function(e){(0,_isMuiElement.default)(e,["Input","Select"])&&(0,_utils.isFilled)(e.props,!0)&&(r=!0)}),r}),e=p[0],g=p[1],v=React.useState(!1),p=v[0],x=v[1],v=void 0!==h?h:p;c&&v&&x(!1),"production"!==process.env.NODE_ENV&&(t=React.useRef(!1),o=function(){return t.current&&console.error(["Material-UI: There are multiple InputBase components inside a FormControl.","This is not supported. It might cause infinite rendering loops.","Only use one InputBase."].join("\n")),t.current=!0,function(){t.current=!1}});h=React.useCallback(function(){g(!0)},[]),p=React.useCallback(function(){g(!1)},[]);return React.createElement(_FormControlContext.default.Provider,{value:{adornedStart:q,setAdornedStart:T,color:u,disabled:c,error:m,filled:e,focused:v,fullWidth:y,hiddenLabel:b,margin:("small"===s?"dense":void 0)||R,onBlur:function(){x(!1)},onEmpty:p,onFilled:h,onFocus:function(){x(!0)},registerEffect:o,required:a,variant:f}},React.createElement(d,(0,_extends2.default)({className:(0,_clsx.default)(l.root,n,"none"!==R&&l["margin".concat((0,_capitalize.default)(R))],y&&l.fullWidth),ref:r},_),i))});"production"!==process.env.NODE_ENV&&(FormControl.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object,className:_propTypes.default.string,color:_propTypes.default.oneOf(["primary","secondary"]),component:_propTypes.default.elementType,disabled:_propTypes.default.bool,error:_propTypes.default.bool,focused:_propTypes.default.bool,fullWidth:_propTypes.default.bool,hiddenLabel:_propTypes.default.bool,margin:_propTypes.default.oneOf(["dense","none","normal"]),required:_propTypes.default.bool,size:_propTypes.default.oneOf(["medium","small"]),variant:_propTypes.default.oneOf(["filled","outlined","standard"])});var _default=(0,_withStyles.default)(styles,{name:"MuiFormControl"})(FormControl);exports.default=_default;