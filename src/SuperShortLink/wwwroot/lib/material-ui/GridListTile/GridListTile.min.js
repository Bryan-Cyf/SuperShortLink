"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_debounce=_interopRequireDefault(require("../utils/debounce")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_isMuiElement=_interopRequireDefault(require("../utils/isMuiElement")),styles={root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}};exports.styles=styles;var fit=function(e,t){var r;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((r=e.classList).remove.apply(r,(0,_toConsumableArray2.default)(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,(0,_toConsumableArray2.default)(t.imgFullHeight.split(" ")))):((r=e.classList).remove.apply(r,(0,_toConsumableArray2.default)(t.imgFullHeight.split(" "))),(e=e.classList).add.apply(e,(0,_toConsumableArray2.default)(t.imgFullWidth.split(" ")))))};function ensureImageCover(e,t){e&&(e.complete?fit(e,t):e.addEventListener("load",function(){fit(e,t)}))}var warnedOnce=!1,GridListTile=React.forwardRef(function(e,t){"production"!==process.env.NODE_ENV&&(warnedOnce||(warnedOnce=!0,console.error(["Material-UI: The GridListTile component was renamed to ImageListItem to align with the current Material Design naming.","","You should use `import { ImageListItem } from '@material-ui/core'`","or `import ImageListItem from '@material-ui/core/ImageListItem'`."].join("\n"))));var r=e.children,i=e.classes,l=e.className,s=(e.cols,e.component),a=void 0===s?"li":s,e=(e.rows,(0,_objectWithoutProperties2.default)(e,["children","classes","className","cols","component","rows"])),o=React.useRef(null);return React.useEffect(function(){ensureImageCover(o.current,i)}),React.useEffect(function(){var e=(0,_debounce.default)(function(){fit(o.current,i)});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[i]),React.createElement(a,(0,_extends2.default)({className:(0,_clsx.default)(i.root,l),ref:t},e),React.createElement("div",{className:i.tile},React.Children.map(r,function(e){return React.isValidElement(e)?"img"===e.type||(0,_isMuiElement.default)(e,["Image"])?React.cloneElement(e,{ref:o}):e:null})))});"production"!==process.env.NODE_ENV&&(GridListTile.propTypes={children:_propTypes.default.node,classes:_propTypes.default.object.isRequired,className:_propTypes.default.string,cols:_propTypes.default.number,component:_propTypes.default.elementType,rows:_propTypes.default.number});var _default=(0,_withStyles.default)(styles,{name:"MuiGridListTile"})(GridListTile);exports.default=_default;