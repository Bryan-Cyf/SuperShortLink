"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.testReset=testReset,exports.default=exports.styles=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),React=_interopRequireWildcard(require("react")),ReactDOM=_interopRequireWildcard(require("react-dom")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_utils=require("@material-ui/utils"),_colorManipulator=require("../styles/colorManipulator"),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_Grow=_interopRequireDefault(require("../Grow")),_Popper=_interopRequireDefault(require("../Popper")),_useForkRef=_interopRequireDefault(require("../utils/useForkRef")),_unstable_useId=_interopRequireDefault(require("../utils/unstable_useId")),_setRef=_interopRequireDefault(require("../utils/setRef")),_useIsFocusVisible2=_interopRequireDefault(require("../utils/useIsFocusVisible")),_useControlled3=_interopRequireDefault(require("../utils/useControlled")),_useTheme=_interopRequireDefault(require("../styles/useTheme"));function round(e){return Math.round(1e5*e)/1e5}function arrowGenerator(){return{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}}}var styles=function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:arrowGenerator(),tooltip:{backgroundColor:(0,_colorManipulator.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(round(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,_colorManipulator.alpha)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(round(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,_defineProperty2.default)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,_defineProperty2.default)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,_defineProperty2.default)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,_defineProperty2.default)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}};exports.styles=styles;var hystersisOpen=!1,hystersisTimer=null;function testReset(){hystersisOpen=!1,clearTimeout(hystersisTimer)}var Tooltip=React.forwardRef(function(e,t){var r,o=e.arrow,i=void 0!==o&&o,n=e.children,a=e.classes,u=e.disableFocusListener,s=void 0!==u&&u,l=e.disableHoverListener,p=void 0!==l&&l,c=e.disableTouchListener,d=void 0!==c&&c,f=e.enterDelay,m=void 0===f?100:f,h=e.enterNextDelay,T=void 0===h?0:h,_=e.enterTouchDelay,y=void 0===_?700:_,b=e.id,o=e.interactive,u=void 0!==o&&o,l=e.leaveDelay,g=void 0===l?0:l,c=e.leaveTouchDelay,R=void 0===c?1500:c,v=e.onClose,q=e.onOpen,f=e.open,h=e.placement,_=void 0===h?"bottom":h,o=e.PopperComponent,l=void 0===o?_Popper.default:o,x=e.PopperProps,D=e.title,c=e.TransitionComponent,w=void 0===c?_Grow.default:c,P=e.TransitionProps,h=(0,_objectWithoutProperties2.default)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),O=(0,_useTheme.default)(),o=React.useState(),M=o[0],E=o[1],c=React.useState(null),F=c[0],L=c[1],N=React.useRef(!1),C=React.useRef(),k=React.useRef(),S=React.useRef(),W=React.useRef(),e=(0,_useControlled3.default)({controlled:f,default:!1,name:"Tooltip",state:"open"}),o=(0,_slicedToArray2.default)(e,2),c=o[0],I=o[1],e=c;"production"!==process.env.NODE_ENV&&(r=React.useRef(void 0!==f).current,React.useEffect(function(){M&&M.disabled&&!r&&""!==D&&"button"===M.tagName.toLowerCase()&&console.error(["Material-UI: You are providing a disabled `button` child to the Tooltip component.","A disabled element does not fire events.","Tooltip needs to listen to the child element's events to display the title.","","Add a simple wrapper element, such as a `span`."].join("\n"))},[D,M,r]));o=(0,_unstable_useId.default)(b);React.useEffect(function(){return function(){clearTimeout(C.current),clearTimeout(k.current),clearTimeout(S.current),clearTimeout(W.current)}},[]);function A(){var r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(e){var t=n.props;"mouseover"===e.type&&t.onMouseOver&&r&&t.onMouseOver(e),N.current&&"touchstart"!==e.type||(M&&M.removeAttribute("title"),clearTimeout(k.current),clearTimeout(S.current),m||hystersisOpen&&T?(e.persist(),k.current=setTimeout(function(){z(e)},hystersisOpen?T:m)):z(e))}}function B(e){clearTimeout(hystersisTimer),hystersisTimer=setTimeout(function(){hystersisOpen=!1},800+g),I(!1),v&&v(e),clearTimeout(C.current),C.current=setTimeout(function(){N.current=!1},O.transitions.duration.shortest)}function j(e){N.current=!0;var t=n.props;t.onTouchStart&&t.onTouchStart(e)}var z=function(e){clearTimeout(hystersisTimer),I(hystersisOpen=!0),q&&q(e)},c=(0,_useIsFocusVisible2.default)(),V=c.isFocusVisible,G=c.onBlurVisible,f=c.ref,b=React.useState(!1),H=b[0],$=b[1],c=function(){var r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(e){M||E(e.currentTarget),V(e)&&($(!0),A()(e));var t=n.props;t.onFocus&&r&&t.onFocus(e)}},b=function(){var r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(e){var t=n.props;"blur"===e.type&&(t.onBlur&&r&&t.onBlur(e),H&&($(!1),G())),"mouseleave"===e.type&&t.onMouseLeave&&e.currentTarget===M&&t.onMouseLeave(e),clearTimeout(k.current),clearTimeout(S.current),e.persist(),S.current=setTimeout(function(){B(e)},g)}},t=(0,_useForkRef.default)(E,t),U=(0,_useForkRef.default)(f,t),t=React.useCallback(function(e){(0,_setRef.default)(U,ReactDOM.findDOMNode(e))},[U]),t=(0,_useForkRef.default)(n.ref,t),h=(0,_extends2.default)({"aria-describedby":(e=""===D?!1:e)?o:null,title:!e&&!p&&"string"==typeof D?D:null},h,n.props,{className:(0,_clsx.default)(h.className,n.props.className),onTouchStart:j,ref:t}),t={};d||(h.onTouchStart=function(e){j(e),clearTimeout(S.current),clearTimeout(C.current),clearTimeout(W.current),e.persist(),W.current=setTimeout(function(){A()(e)},y)},h.onTouchEnd=function(e){n.props.onTouchEnd&&n.props.onTouchEnd(e),clearTimeout(W.current),clearTimeout(S.current),e.persist(),S.current=setTimeout(function(){B(e)},R)}),p||(h.onMouseOver=A(),h.onMouseLeave=b(),u&&(t.onMouseOver=A(!1),t.onMouseLeave=b(!1))),s||(h.onFocus=c(),h.onBlur=b(),u&&(t.onFocus=c(!1),t.onBlur=b(!1))),"production"!==process.env.NODE_ENV&&n.props.title&&console.error(["Material-UI: You have provided a `title` prop to the child of <Tooltip />.","Remove this title prop `".concat(n.props.title,"` or the Tooltip component.")].join("\n"));b=React.useMemo(function(){return(0,_utils.deepmerge)({popperOptions:{modifiers:{arrow:{enabled:Boolean(F),element:F}}}},x)},[F,x]);return React.createElement(React.Fragment,null,React.cloneElement(n,h),React.createElement(l,(0,_extends2.default)({className:(0,_clsx.default)(a.popper,u&&a.popperInteractive,i&&a.popperArrow),placement:_,anchorEl:M,open:!!M&&e,id:h["aria-describedby"],transition:!0},t,b),function(e){var t=e.placement,e=e.TransitionProps;return React.createElement(w,(0,_extends2.default)({timeout:O.transitions.duration.shorter},e,P),React.createElement("div",{className:(0,_clsx.default)(a.tooltip,a["tooltipPlacement".concat((0,_capitalize.default)(t.split("-")[0]))],N.current&&a.touch,i&&a.tooltipArrow)},D,i?React.createElement("span",{className:a.arrow,ref:L}):null))}))});"production"!==process.env.NODE_ENV&&(Tooltip.propTypes={arrow:_propTypes.default.bool,children:_utils.elementAcceptingRef.isRequired,classes:_propTypes.default.object,className:_propTypes.default.string,disableFocusListener:_propTypes.default.bool,disableHoverListener:_propTypes.default.bool,disableTouchListener:_propTypes.default.bool,enterDelay:_propTypes.default.number,enterNextDelay:_propTypes.default.number,enterTouchDelay:_propTypes.default.number,id:_propTypes.default.string,interactive:_propTypes.default.bool,leaveDelay:_propTypes.default.number,leaveTouchDelay:_propTypes.default.number,onClose:_propTypes.default.func,onOpen:_propTypes.default.func,open:_propTypes.default.bool,placement:_propTypes.default.oneOf(["bottom-end","bottom-start","bottom","left-end","left-start","left","right-end","right-start","right","top-end","top-start","top"]),PopperComponent:_propTypes.default.elementType,PopperProps:_propTypes.default.object,title:_propTypes.default.node.isRequired,TransitionComponent:_propTypes.default.elementType,TransitionProps:_propTypes.default.object});var _default=(0,_withStyles.default)(styles,{name:"MuiTooltip",flip:!1})(Tooltip);exports.default=_default;