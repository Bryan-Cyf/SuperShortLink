"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.styles=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_extends8=_interopRequireDefault(require("@babel/runtime/helpers/extends")),React=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_clsx=_interopRequireDefault(require("clsx")),_withStyles=_interopRequireDefault(require("../styles/withStyles")),_transitions=require("../styles/transitions"),_ClickAwayListener=_interopRequireDefault(require("../ClickAwayListener")),_useEventCallback=_interopRequireDefault(require("../utils/useEventCallback")),_capitalize=_interopRequireDefault(require("../utils/capitalize")),_createChainedFunction=_interopRequireDefault(require("../utils/createChainedFunction")),_deprecatedPropType=_interopRequireDefault(require("../utils/deprecatedPropType")),_Grow=_interopRequireDefault(require("../Grow")),_SnackbarContent=_interopRequireDefault(require("../SnackbarContent")),styles=function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},o={justifyContent:"flex-start"},i={top:24},a={bottom:24},u={right:24},p={left:24},s={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,_extends8.default)({},t,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({},i,s))),anchorOriginBottomCenter:(0,_extends8.default)({},n,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({},a,s))),anchorOriginTopRight:(0,_extends8.default)({},t,r,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({left:"auto"},i,u))),anchorOriginBottomRight:(0,_extends8.default)({},n,r,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({left:"auto"},a,u))),anchorOriginTopLeft:(0,_extends8.default)({},t,o,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({right:"auto"},i,p))),anchorOriginBottomLeft:(0,_extends8.default)({},n,o,(0,_defineProperty2.default)({},e.breakpoints.up("sm"),(0,_extends8.default)({right:"auto"},a,p)))}};exports.styles=styles;var Snackbar=React.forwardRef(function(e,t){var n=e.action,r=e.anchorOrigin,o=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,i=r.horizontal,a=e.autoHideDuration,u=void 0===a?null:a,p=e.children,s=e.classes,l=e.className,d=e.ClickAwayListenerProps,f=e.ContentProps,c=e.disableWindowBlurListener,_=void 0!==c&&c,y=e.message,T=e.onClose,m=e.onEnter,b=e.onEntered,h=e.onEntering,x=e.onExit,E=e.onExited,q=e.onExiting,v=e.onMouseEnter,P=e.onMouseLeave,R=e.open,g=e.resumeHideDuration,C=e.TransitionComponent,k=void 0===C?_Grow.default:C,r=e.transitionDuration,a=void 0===r?{enter:_transitions.duration.enteringScreen,exit:_transitions.duration.leavingScreen}:r,c=e.TransitionProps,C=(0,_objectWithoutProperties2.default)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),w=React.useRef(),r=React.useState(!0),e=r[0],D=r[1],L=(0,_useEventCallback.default)(function(){T&&T.apply(void 0,arguments)}),O=(0,_useEventCallback.default)(function(e){T&&null!=e&&(clearTimeout(w.current),w.current=setTimeout(function(){L(null,"timeout")},e))});React.useEffect(function(){return R&&O(u),function(){clearTimeout(w.current)}},[R,u,O]);function S(){clearTimeout(w.current)}var j=React.useCallback(function(){null!=u&&O(null!=g?g:.5*u)},[u,g,O]);return React.useEffect(function(){if(!_&&R)return window.addEventListener("focus",j),window.addEventListener("blur",S),function(){window.removeEventListener("focus",j),window.removeEventListener("blur",S)}},[_,j,R]),!R&&e?null:React.createElement(_ClickAwayListener.default,(0,_extends8.default)({onClickAway:function(e){T&&T(e,"clickaway")}},d),React.createElement("div",(0,_extends8.default)({className:(0,_clsx.default)(s.root,s["anchorOrigin".concat((0,_capitalize.default)(o)).concat((0,_capitalize.default)(i))],l),onMouseEnter:function(e){v&&v(e),S()},onMouseLeave:function(e){P&&P(e),j()},ref:t},C),React.createElement(k,(0,_extends8.default)({appear:!0,in:R,onEnter:(0,_createChainedFunction.default)(function(){D(!1)},m),onEntered:b,onEntering:h,onExit:x,onExited:(0,_createChainedFunction.default)(function(){D(!0)},E),onExiting:q,timeout:a,direction:"top"===o?"down":"up"},c),p||React.createElement(_SnackbarContent.default,(0,_extends8.default)({message:y,action:n},f)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:_propTypes.default.node,anchorOrigin:_propTypes.default.shape({horizontal:_propTypes.default.oneOf(["center","left","right"]).isRequired,vertical:_propTypes.default.oneOf(["bottom","top"]).isRequired}),autoHideDuration:_propTypes.default.number,children:_propTypes.default.element,classes:_propTypes.default.object,className:_propTypes.default.string,ClickAwayListenerProps:_propTypes.default.object,ContentProps:_propTypes.default.object,disableWindowBlurListener:_propTypes.default.bool,key:_propTypes.default.any,message:_propTypes.default.node,onClose:_propTypes.default.func,onEnter:(0,_deprecatedPropType.default)(_propTypes.default.func,"Use the `TransitionProps` prop instead."),onEntered:(0,_deprecatedPropType.default)(_propTypes.default.func,"Use the `TransitionProps` prop instead."),onEntering:(0,_deprecatedPropType.default)(_propTypes.default.func,"Use the `TransitionProps` prop instead."),onExit:(0,_deprecatedPropType.default)(_propTypes.default.func,"Use the `TransitionProps` prop instead."),onExited:(0,_deprecatedPropType.default)(_propTypes.default.func,"Use the `TransitionProps` prop instead."),onExiting:(0,_deprecatedPropType.default)(_propTypes.default.func,"Use the `TransitionProps` prop instead."),onMouseEnter:_propTypes.default.func,onMouseLeave:_propTypes.default.func,open:_propTypes.default.bool,resumeHideDuration:_propTypes.default.number,TransitionComponent:_propTypes.default.elementType,transitionDuration:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.shape({appear:_propTypes.default.number,enter:_propTypes.default.number,exit:_propTypes.default.number})]),TransitionProps:_propTypes.default.object});var _default=(0,_withStyles.default)(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);exports.default=_default;