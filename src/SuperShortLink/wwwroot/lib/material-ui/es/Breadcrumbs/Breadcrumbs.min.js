import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import{isFragment}from"react-is";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import Typography from"../Typography";import BreadcrumbCollapsed from"./BreadcrumbCollapsed";const styles={root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}};function insertSeparators(o,s,a){return o.reduce((e,r,t)=>(t<o.length-1?e=e.concat(r,React.createElement("li",{"aria-hidden":!0,key:`separator-${t}`,className:s},a)):e.push(r),e),[])}const Breadcrumbs=React.forwardRef(function(e,r){const{children:t,classes:o,className:s,component:a="nav",expandText:l="Show path",itemsAfterCollapse:n=1,itemsBeforeCollapse:p=1,maxItems:i=8,separator:c="/"}=e,m=_objectWithoutPropertiesLoose(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),[d,y]=React.useState(!1);var u,f=React.Children.toArray(t).filter(e=>("production"!==process.env.NODE_ENV&&isFragment(e)&&console.error(["Material-UI: The Breadcrumbs component doesn't accept a Fragment as a child.","Consider providing an array instead."].join("\n")),React.isValidElement(e))).map((e,r)=>React.createElement("li",{className:o.li,key:`child-${r}`},e));return React.createElement(Typography,_extends({ref:r,component:a,color:"textSecondary",className:clsx(o.root,s)},m),React.createElement("ol",{className:o.ol},insertSeparators(d||i&&f.length<=i?f:p+n>=(u=f).length?("production"!==process.env.NODE_ENV&&console.error(["Material-UI: You have provided an invalid combination of props to the Breadcrumbs.",`itemsAfterCollapse={${n}} + itemsBeforeCollapse={${p}} >= maxItems={${i}}`].join("\n")),u):[...u.slice(0,p),React.createElement(BreadcrumbCollapsed,{"aria-label":l,key:"ellipsis",onClick:e=>{y(!0);const r=e.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");r&&r.focus()}}),...u.slice(u.length-n,u.length)],o.separator,c)))});"production"!==process.env.NODE_ENV&&(Breadcrumbs.propTypes={children:PropTypes.node,classes:PropTypes.object,className:PropTypes.string,component:PropTypes.elementType,expandText:PropTypes.string,itemsAfterCollapse:PropTypes.number,itemsBeforeCollapse:PropTypes.number,maxItems:PropTypes.number,separator:PropTypes.node});export default withStyles(styles,{name:"MuiBreadcrumbs"})(Breadcrumbs);export{styles};