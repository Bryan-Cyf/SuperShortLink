import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import clsx from"clsx";import PropTypes from"prop-types";import{chainPropTypes}from"@material-ui/utils";import{Transition}from"react-transition-group";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import deprecatedPropType from"../utils/deprecatedPropType";import{getTransitionProps}from"../transitions/utils";import useTheme from"../styles/useTheme";import{useForkRef}from"../utils";const styles=e=>({root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}),Collapse=React.forwardRef(function(e,t){const{children:o,classes:r,className:n,collapsedHeight:s,collapsedSize:i="0px",component:p="div",disableStrictModeCompat:a=!1,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:m,onExited:y,onExiting:h,style:T,timeout:f=duration.standard,TransitionComponent:P=Transition}=e,g=_objectWithoutPropertiesLoose(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),E=useTheme(),x=React.useRef(),b=React.useRef(null),R=React.useRef(),v="number"==typeof(s||i)?`${s||i}px`:s||i;React.useEffect(()=>()=>{clearTimeout(x.current)},[]);const w=E.unstable_strictMode&&!a,S=React.useRef(null),C=useForkRef(t,w?S:void 0);var H=o=>(e,t)=>{o&&([e,t]=w?[S.current,e]:[e,t],void 0===t?o(e):o(e,t))},N=H((e,t)=>{e.style.height=v,c&&c(e,t)}),_=H((e,t)=>{var o,r=b.current?b.current.clientHeight:0,n=getTransitionProps({style:T,timeout:f},{mode:"enter"})["duration"];"auto"===f?(o=E.transitions.getAutoHeightDuration(r),e.style.transitionDuration=`${o}ms`,R.current=o):e.style.transitionDuration="string"==typeof n?n:`${n}ms`,e.style.height=`${r}px`,d&&d(e,t)}),D=H((e,t)=>{e.style.height="auto",u&&u(e,t)}),e=H(e=>{var t=b.current?b.current.clientHeight:0;e.style.height=`${t}px`,m&&m(e)}),t=H(y),H=H(e=>{var t=b.current?b.current.clientHeight:0,o=getTransitionProps({style:T,timeout:f},{mode:"exit"})["duration"];"auto"===f?(t=E.transitions.getAutoHeightDuration(t),e.style.transitionDuration=`${t}ms`,R.current=t):e.style.transitionDuration="string"==typeof o?o:`${o}ms`,e.style.height=v,h&&h(e)});return React.createElement(P,_extends({in:l,onEnter:N,onEntered:D,onEntering:_,onExit:e,onExited:t,onExiting:H,addEndListener:(e,t)=>{t=w?e:t;"auto"===f&&(x.current=setTimeout(t,R.current||0))},nodeRef:w?S:void 0,timeout:"auto"===f?null:f},g),(e,t)=>React.createElement(p,_extends({className:clsx(r.root,r.container,n,{entered:r.entered,exited:!l&&"0px"===v&&r.hidden}[e]),style:_extends({minHeight:v},T),ref:C},t),React.createElement("div",{className:r.wrapper,ref:b},React.createElement("div",{className:r.wrapperInner},o))))});"production"!==process.env.NODE_ENV&&(Collapse.propTypes={children:PropTypes.node,classes:chainPropTypes(PropTypes.object,e=>{if(e.classes&&e.classes.container)throw new Error(["Material-UI: the classes.container key is deprecated.","Use `classes.root` instead","The name of the pseudo-class was changed for consistency."].join("\n"));return null}),className:PropTypes.string,collapsedHeight:deprecatedPropType(PropTypes.oneOfType([PropTypes.number,PropTypes.string]),"The prop was renamed to support the vertical orientation, use `collapsedSize` instead"),collapsedSize:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),component:PropTypes.elementType,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Collapse.muiSupportAuto=!0;export default withStyles(styles,{name:"MuiCollapse"})(Collapse);export{styles};