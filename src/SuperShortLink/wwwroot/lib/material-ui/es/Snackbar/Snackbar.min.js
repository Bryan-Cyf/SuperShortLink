import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import _extends from"@babel/runtime/helpers/esm/extends";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import withStyles from"../styles/withStyles";import{duration}from"../styles/transitions";import ClickAwayListener from"../ClickAwayListener";import useEventCallback from"../utils/useEventCallback";import capitalize from"../utils/capitalize";import createChainedFunction from"../utils/createChainedFunction";import deprecatedPropType from"../utils/deprecatedPropType";import Grow from"../Grow";import SnackbarContent from"../SnackbarContent";const styles=e=>{var t={top:8},n={bottom:8},o={justifyContent:"flex-end"},r={justifyContent:"flex-start"},i={top:24},s={bottom:24},a={right:24},p={left:24},c={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:_extends({},t,{[e.breakpoints.up("sm")]:_extends({},i,c)}),anchorOriginBottomCenter:_extends({},n,{[e.breakpoints.up("sm")]:_extends({},s,c)}),anchorOriginTopRight:_extends({},t,o,{[e.breakpoints.up("sm")]:_extends({left:"auto"},i,a)}),anchorOriginBottomRight:_extends({},n,o,{[e.breakpoints.up("sm")]:_extends({left:"auto"},s,a)}),anchorOriginTopLeft:_extends({},t,r,{[e.breakpoints.up("sm")]:_extends({right:"auto"},i,p)}),anchorOriginBottomLeft:_extends({},n,r,{[e.breakpoints.up("sm")]:_extends({right:"auto"},s,p)})}},Snackbar=React.forwardRef(function(e,t){const{action:n,anchorOrigin:{vertical:o,horizontal:r}={vertical:"bottom",horizontal:"center"},autoHideDuration:i=null,children:s,classes:a,className:p,ClickAwayListenerProps:c,ContentProps:u,disableWindowBlurListener:l=!1,message:d,onClose:m,onEnter:y,onEntered:T,onEntering:P,onExit:f,onExited:b,onExiting:h,onMouseEnter:E,onMouseLeave:x,open:g,resumeHideDuration:C,TransitionComponent:k=Grow,transitionDuration:w={enter:duration.enteringScreen,exit:duration.leavingScreen},TransitionProps:L}=e,v=_objectWithoutPropertiesLoose(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),_=React.useRef(),[R,O]=React.useState(!0),S=useEventCallback((...e)=>{m&&m(...e)}),j=useEventCallback(e=>{m&&null!=e&&(clearTimeout(_.current),_.current=setTimeout(()=>{S(null,"timeout")},e))});React.useEffect(()=>(g&&j(i),()=>{clearTimeout(_.current)}),[g,i,j]);const D=()=>{clearTimeout(_.current)},z=React.useCallback(()=>{null!=i&&j(null!=C?C:.5*i)},[i,C,j]);return React.useEffect(()=>{if(!l&&g)return window.addEventListener("focus",z),window.addEventListener("blur",D),()=>{window.removeEventListener("focus",z),window.removeEventListener("blur",D)}},[l,z,g]),!g&&R?null:React.createElement(ClickAwayListener,_extends({onClickAway:e=>{m&&m(e,"clickaway")}},c),React.createElement("div",_extends({className:clsx(a.root,a[`anchorOrigin${capitalize(o)}${capitalize(r)}`],p),onMouseEnter:e=>{E&&E(e),D()},onMouseLeave:e=>{x&&x(e),z()},ref:t},v),React.createElement(k,_extends({appear:!0,in:g,onEnter:createChainedFunction(()=>{O(!1)},y),onEntered:T,onEntering:P,onExit:f,onExited:createChainedFunction(()=>{O(!0)},b),onExiting:h,timeout:w,direction:"top"===o?"down":"up"},L),s||React.createElement(SnackbarContent,_extends({message:d,action:n},u)))))});"production"!==process.env.NODE_ENV&&(Snackbar.propTypes={action:PropTypes.node,anchorOrigin:PropTypes.shape({horizontal:PropTypes.oneOf(["center","left","right"]).isRequired,vertical:PropTypes.oneOf(["bottom","top"]).isRequired}),autoHideDuration:PropTypes.number,children:PropTypes.element,classes:PropTypes.object,className:PropTypes.string,ClickAwayListenerProps:PropTypes.object,ContentProps:PropTypes.object,disableWindowBlurListener:PropTypes.bool,key:PropTypes.any,message:PropTypes.node,onClose:PropTypes.func,onEnter:deprecatedPropType(PropTypes.func,"Use the `TransitionProps` prop instead."),onEntered:deprecatedPropType(PropTypes.func,"Use the `TransitionProps` prop instead."),onEntering:deprecatedPropType(PropTypes.func,"Use the `TransitionProps` prop instead."),onExit:deprecatedPropType(PropTypes.func,"Use the `TransitionProps` prop instead."),onExited:deprecatedPropType(PropTypes.func,"Use the `TransitionProps` prop instead."),onExiting:deprecatedPropType(PropTypes.func,"Use the `TransitionProps` prop instead."),onMouseEnter:PropTypes.func,onMouseLeave:PropTypes.func,open:PropTypes.bool,resumeHideDuration:PropTypes.number,TransitionComponent:PropTypes.elementType,transitionDuration:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})]),TransitionProps:PropTypes.object});export default withStyles(styles,{flip:!1,name:"MuiSnackbar"})(Snackbar);export{styles};