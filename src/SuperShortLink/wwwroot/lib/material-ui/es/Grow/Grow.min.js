import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";function getScale(e){return`scale(${e}, ${e**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=React.forwardRef(function(e,t){const{children:o,disableStrictModeCompat:r=!1,in:n,onEnter:i,onEntered:s,onEntering:a,onExit:p,onExited:u,onExiting:c,style:l,timeout:d="auto",TransitionComponent:m=Transition}=e,y=_objectWithoutPropertiesLoose(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),f=React.useRef(),T=React.useRef(),E=useTheme(),P=E.unstable_strictMode&&!r,g=React.useRef(null);var x=useForkRef(o.ref,t);const b=useForkRef(P?g:void 0,x);var h=o=>(e,t)=>{o&&([e,t]=P?[g.current,e]:[e,t],void 0===t?o(e):o(e,t))},R=h(a),v=h((e,t)=>{reflow(e);var{duration:o,delay:r}=getTransitionProps({style:l,timeout:d},{mode:"enter"});let n;"auto"===d?(n=E.transitions.getAutoHeightDuration(e.clientHeight),T.current=n):n=o,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:r}),E.transitions.create("transform",{duration:.666*n,delay:r})].join(","),i&&i(e,t)}),e=h(s),t=h(c),x=h(e=>{var{duration:t,delay:o}=getTransitionProps({style:l,timeout:d},{mode:"exit"});let r;"auto"===d?(r=E.transitions.getAutoHeightDuration(e.clientHeight),T.current=r):r=t,e.style.transition=[E.transitions.create("opacity",{duration:r,delay:o}),E.transitions.create("transform",{duration:.666*r,delay:o||.333*r})].join(","),e.style.opacity="0",e.style.transform=getScale(.75),p&&p(e)}),h=h(u);return React.useEffect(()=>()=>{clearTimeout(f.current)},[]),React.createElement(m,_extends({appear:!0,in:n,nodeRef:P?g:void 0,onEnter:v,onEntered:e,onEntering:R,onExit:x,onExited:h,onExiting:t,addEndListener:(e,t)=>{t=P?e:t;"auto"===d&&(f.current=setTimeout(t,T.current||0))},timeout:"auto"===d?null:d},y),(e,t)=>React.cloneElement(o,_extends({style:_extends({opacity:0,transform:getScale(.75),visibility:"exited"!==e||n?void 0:"hidden"},styles[e],l,o.props.style),ref:b},t)))});"production"!==process.env.NODE_ENV&&(Grow.propTypes={children:PropTypes.element,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.oneOf(["auto"]),PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])}),Grow.muiSupportAuto=!0;export default Grow;