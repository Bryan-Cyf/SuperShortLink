import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import clsx from"clsx";import debounce from"../utils/debounce";import withStyles from"../styles/withStyles";import isMuiElement from"../utils/isMuiElement";const styles={root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},fit=(e,t)=>{e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?(e.classList.remove(...t.imgFullWidth.split(" ")),e.classList.add(...t.imgFullHeight.split(" "))):(e.classList.remove(...t.imgFullHeight.split(" ")),e.classList.add(...t.imgFullWidth.split(" "))))};function ensureImageCover(e,t){e&&(e.complete?fit(e,t):e.addEventListener("load",()=>{fit(e,t)}))}let warnedOnce=!1;const GridListTile=React.forwardRef(function(e,t){"production"!==process.env.NODE_ENV&&(warnedOnce||(warnedOnce=!0,console.error(["Material-UI: The GridListTile component was renamed to ImageListItem to align with the current Material Design naming.","","You should use `import { ImageListItem } from '@material-ui/core'`","or `import ImageListItem from '@material-ui/core/ImageListItem'`."].join("\n"))));const{children:i,classes:s,className:r,component:o="li"}=e,l=_objectWithoutPropertiesLoose(e,["children","classes","className","cols","component","rows"]),n=React.useRef(null);return React.useEffect(()=>{ensureImageCover(n.current,s)}),React.useEffect(()=>{const e=debounce(()=>{fit(n.current,s)});return window.addEventListener("resize",e),()=>{e.clear(),window.removeEventListener("resize",e)}},[s]),React.createElement(o,_extends({className:clsx(s.root,r),ref:t},l),React.createElement("div",{className:s.tile},React.Children.map(i,e=>React.isValidElement(e)?"img"===e.type||isMuiElement(e,["Image"])?React.cloneElement(e,{ref:n}):e:null)))});"production"!==process.env.NODE_ENV&&(GridListTile.propTypes={children:PropTypes.node,classes:PropTypes.object.isRequired,className:PropTypes.string,cols:PropTypes.number,component:PropTypes.elementType,rows:PropTypes.number});export default withStyles(styles,{name:"MuiGridListTile"})(GridListTile);export{styles};