import _extends from"@babel/runtime/helpers/esm/extends";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";import*as React from"react";import PropTypes from"prop-types";import{Transition}from"react-transition-group";import{duration}from"../styles/transitions";import useTheme from"../styles/useTheme";import{reflow,getTransitionProps}from"../transitions/utils";import useForkRef from"../utils/useForkRef";const styles={entering:{opacity:1},entered:{opacity:1}},defaultTimeout={enter:duration.enteringScreen,exit:duration.leavingScreen},Fade=React.forwardRef(function(e,t){const{children:o,disableStrictModeCompat:n=!1,in:r,onEnter:i,onEntered:s,onEntering:p,onExit:a,onExited:m,onExiting:c,style:u,TransitionComponent:d=Transition,timeout:l=defaultTimeout}=e,y=_objectWithoutPropertiesLoose(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),T=useTheme(),f=T.unstable_strictMode&&!n,E=React.useRef(null);var P=useForkRef(o.ref,t);const x=useForkRef(f?E:void 0,P);var b=o=>(e,t)=>{o&&([e,t]=f?[E.current,e]:[e,t],void 0===t?o(e):o(e,t))},g=b(p),h=b((e,t)=>{reflow(e);var o=getTransitionProps({style:u,timeout:l},{mode:"enter"});e.style.webkitTransition=T.transitions.create("opacity",o),e.style.transition=T.transitions.create("opacity",o),i&&i(e,t)}),e=b(s),t=b(c),P=b(e=>{var t=getTransitionProps({style:u,timeout:l},{mode:"exit"});e.style.webkitTransition=T.transitions.create("opacity",t),e.style.transition=T.transitions.create("opacity",t),a&&a(e)}),b=b(m);return React.createElement(d,_extends({appear:!0,in:r,nodeRef:f?E:void 0,onEnter:h,onEntered:e,onEntering:g,onExit:P,onExited:b,onExiting:t,timeout:l},y),(e,t)=>React.cloneElement(o,_extends({style:_extends({opacity:0,visibility:"exited"!==e||r?void 0:"hidden"},styles[e],u,o.props.style),ref:x},t)))});"production"!==process.env.NODE_ENV&&(Fade.propTypes={children:PropTypes.element,disableStrictModeCompat:PropTypes.bool,in:PropTypes.bool,onEnter:PropTypes.func,onEntered:PropTypes.func,onEntering:PropTypes.func,onExit:PropTypes.func,onExited:PropTypes.func,onExiting:PropTypes.func,style:PropTypes.object,timeout:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({appear:PropTypes.number,enter:PropTypes.number,exit:PropTypes.number})])});export default Fade;